function propagate(o,e,t){let a=o.x-e.x,s=o.y-e.y,S=atan2(s,a);e.x=o.x-cos(S)*t,e.y=o.y-sin(S)*t}function maintain(o,e,t){let a=p5.Vector.rotate(t,atan2(o.y-e.y,o.x-e.x));return p5.Vector.add(o,a)}function intersect(o,e){let t=o.B.x-o.A.x,a=o.B.y-o.A.y,s=e.B.x-e.A.x,S=e.B.y-e.A.y,d=(-a*(o.A.x-e.A.x)+t*(o.A.y-e.A.y))/(-s*a+t*S),T=(s*(o.A.y-e.A.y)-S*(o.A.x-e.A.x))/(-s*a+t*S);return d>=0&&d<=1&&T>=0&&T<=1}function drag_fio_vpl(o,e,t){if(!(t<0||t>=o.length)){for(var a=t+1;a<o.length;++a)propagate(o[a-1],o[a],e[a]);for(a=t-1;a>=0;--a)propagate(o[a+1],o[a],e[a+1])}}function drag_fio_l(o,e,t){if(!(t<0||t>=o.length)){for(var a=t+1;a<o.length;++a)propagate(o[a-1],o[a],e);for(a=t-1;a>=0;--a)propagate(o[a+1],o[a],e)}}function random_vec(o){let e=radians(random(1,360)),t=random(0,o);return createVector(t*cos(e),t*sin(e))}function coordinates_in_rct(o,e,t){return o>t.x&&o<t.x+t.w&&e>t.y&&e<t.y+t.h}function succeeded(o){}function failed(o){}class Rig{img;N;td;R;V;da;O;l;Va;constructor(o,e,t){this.img=o;let a=VIEWPORT.h/float(e[0]);this.N=int(e[1]);let s=999999,S=999999;this.R=Array(this.N);for(var d=0;d<this.N;d++){let o=split(e[2+d],",");this.R[d]={x:int(o[0]),y:int(o[1]),w:int(o[2]),h:int(o[3])},this.R[d].x<s&&(s=this.R[d].x),this.R[d].y<S&&(S=this.R[d].y)}this.td=Array(this.N);for(d=0;d<this.N;++d)this.td[d]={w:this.R[d].w*a,h:this.R[d].h*a};this.V=Array(this.N+1);for(d=0;d<=this.N;d++){let o=split(e[2+this.N+d],",");this.V[d]=createVector(float(o[0]),float(o[1]))}this.O=Array(this.N),this.da=Array(this.N);for(d=0;d<this.N;++d)this.O[d]=createVector(this.V[d].x-this.R[d].x,this.V[d].y-this.R[d].y).mult(a),this.da[d]=-atan2(this.V[d+1].y-this.V[d].y,this.V[d+1].x-this.V[d].x);for(d=0;d<this.N+1;d++)this.V[d].mult(a),this.V[d].x+=t;this.l=Array(this.N+1);for(d=1;d<this.N+1;++d)this.l[d]=this.V[d].dist(this.V[d-1]);for(d=0;d<this.N;++d)this.R[d].x-=s,this.R[d].y-=S;this.Va=this.V[0]}move_anchored(o){this.V[this.N]=o.copy();for(var e=this.N;e>1;--e)propagate(this.V[e],this.V[e-1],this.l[e]);for(e=0;e<this.N;++e)propagate(this.V[e],this.V[e+1],this.l[e+1])}draw(){for(var o=0;o<this.N;++o)push(),translate(this.V[o].x,this.V[o].y),rotate(atan2(this.V[o+1].y-this.V[o].y,this.V[o+1].x-this.V[o].x)+this.da[o]),image(this.img,-this.O[o].x,-this.O[o].y,this.td[o].w,this.td[o].h,this.R[o].x,this.R[o].y,this.R[o].w,this.R[o].h),pop()}}class Fio_Ancorado{constructor(o,e){this.root=o.copy(),this.anchor=e.copy(),this.O=p5.Vector.sub(e,o),this.P=Array(1),this.P[0]=e.copy()}drag_tail(o){let e=this.P.length-1;this.P[e]=p5.Vector.add(this.root,this.O);for(var t=e-1;t>=0;--t)propagate(this.P[t+1],this.P[t],o)}drag_head(o,e,t){this.P[0]=o.copy();let a=this.P.length-1;for(var s=1;s<=a;++s)propagate(this.P[s-1],this.P[s],e);for(;p5.Vector.sub(this.P[a],this.anchor).magSq()>t;){let o=atan2(this.anchor.y-this.P[a].y,this.anchor.x-this.P[a].x);this.P.push(createVector(this.P[a].x+e*cos(o),this.P[a].y+e*sin(o))),a=this.P.length-1}}drag_fio(o,e){if(!(o<0||o>=this.P.length)){for(var t=o+1;t<this.P.length;++t)propagate(this.P[t-1],this.P[t],e);for(t=o-1;t>=0;--t)propagate(this.P[t+1],this.P[t],e)}}draw(){for(var o=1;o<this.P.length;++o)line(this.P[o].x,this.P[o].y,this.P[o-1].x,this.P[o-1].y)}}class Stalk{src;V;O;td;constructor(o,e,t){let a=split(o,",");this.src={x:int(a[0]),y:int(a[1]),w:int(a[2]),h:int(a[3])},this.V=Array(3),this.h=map(this.src.y,100,700,.4,2)*this.src.h*e*random(90,110)*.01,this.V[2]=createVector(this.src.x+.5*this.src.w,this.src.y+this.src.h).mult(e),this.V[1]=createVector(this.V[2].x,this.V[2].y+.333*this.h),this.V[0]=createVector(this.V[2].x,this.V[2].y+this.h),this.V[2].x+=t,this.V[1].x+=t,this.V[0].x+=t,this.O=createVector(.5*this.src.w,this.src.h).mult(e),this.td={w:this.src.w*e,h:this.src.h*e},this.src.y-=163}move_anchored(o){this.V[2].add(o),this.V[2].y-=.02*this.h,propagate(this.V[2],this.V[1],.333*this.h),propagate(this.V[0],this.V[1],.666*this.h),propagate(this.V[1],this.V[2],.333*this.h)}draw(o){push(),translate(this.V[2].x,this.V[2].y),rotate(atan2(this.V[1].y-this.V[2].y,this.V[1].x-this.V[2].x)-HALF_PI),image(o,-this.O.x,-this.O.y,this.td.w,this.td.h,this.src.x,this.src.y,this.src.w,this.src.h),pop()}}class Bubble{constructor(o,e){this.pos=createVector(o,e),this.vel=p5.Vector.sub(createVector(mouseX+random(-4,4),mouseY+random(-4,4)),this.pos),this.vel.setMag(random(2,2.5)),this.rad=random(20,70),this.S=.15}draw(o){push(),translate(this.pos.x,this.pos.y),scale(this.S),image(o,0,0),pop(),this.S+=8e-4,this.pos.add(this.vel),this.vel.y-=.02}}var INDEX,SKT,VIEWPORT,DINcon,DINalt,tritop,trimid,tribot,dootsx,dootsy,dootsd,dootss,cx,first_click=1;function PH_draw(){clear(),textAlign(CENTER,CENTER),textFont(DINcon,15),fill(255),noStroke(),text("carregando...",cx,trimid)}function PH_mouseMoved(){}function PH_mousePressed(){}function PH_mouseDragged(){}function PH_mouseReleased(){}function PH_end(){}class S00_SAGUAO{constructor(){loop()}draw(){clear(),fill(255),noStroke(),textAlign(LEFT,TOP),textFont(DINcon,70),textLeading(64),text('"ISSO TUDO\nNÃO ME DIZ\nNADA"',100,30),textFont(DINcon,20),text("Cacique Aritana, 1975, na 13º Bienal de S. Paulo.",100,228),textFont(DINcon,18),textLeading(18),text('Se ninguém conseguir manter viva a constelação de relações que um arquivo precisa para respirar, então ele é um arquivo-morto e que, se está nessa condição, o melhor é tratar como qualquer matéria morta e devolvê-la à terra.\n\nÀ terra retorno.\n\nA impermanência como ponto de encontro no Arquivo Histórico da Bienal de S. Paulo nos reúne para uma pesquisa sobre ausências. Eu, Gustavo Caboco Wapichana e Tipuici Manoki lançamos a publicação digital e impressa “ISSO TUDO NÃO ME DIZ NADA” no seminário "Conversas com ausências" no pavilhão da Bienal de São Paulo, em 2023.\n\nA obra-digital Ausências ou Sintomas? (2023), é publicada no site da Fundação Bienal e dialoga com esse contexto do Arquivo Histórico Wanda Svevo.\nMas afinal meus parentes, o que é arquivo?',100,285,.38*VIEWPORT.w),textAlign(RIGHT,TOP),textFont(DINcon,20),text("Esta obra-digital inclui componentes de áudio e de interatividade com o mouse.",width-25,25)}mouseMoved(){}mousePressed(){}mouseDragged(){}mouseReleased(){}end(){}}function build_S01(){(SKT={P:null,Pl:null,D:-1,MH:[],mhi:0,Wa:null,PE:{},rct_serzinho:null,sound_fio:null,sound_pemao:null,sound_serzinho:null,contact_fio:0,contact_pemao:0,contact_serzinho:0,draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bg=loadImage("data01/desenho.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,loadStrings("data01/fio.txt",build_S01_step1,failed)}function build_S01_step1(o){SKT.P=Array(o.length);for(var e=0;e<o.length;++e){let t=split(o[e],","),a=float(t[0]),s=float(t[1]);SKT.P[e]=createVector(a,s)}SKT.PEimg=loadImage("data01/pe.png",build_S01_step2,failed)}function build_S01_step2(){SKT.PEdat=loadStrings("data01/pe.txt",build_S01_step3,failed)}function build_S01_step3(){SKT.PE=new Rig(SKT.PEimg,SKT.PEdat,SKT.bgx),SKT.PEdat=null,SKT.MH=Array(3);for(var o=0;o<3;o++)SKT.MH[o]=createVector(-1,-1);SKT.mhi=0,SKT.Scl=height/711.5;for(o=0;o<SKT.P.length;++o)SKT.P[o].mult(SKT.Scl),SKT.P[o].x+=SKT.bgx;SKT.Pl=Array(SKT.P.length),SKT.Pl[0]=0;for(o=1;o<SKT.P.length;++o)SKT.Pl[o]=SKT.P[o].dist(SKT.P[o-1]);SKT.Wa={V:Array(3),M:Array(3)};for(o=0;o<3;++o)SKT.Wa.M[o]=map(o,0,2,.04,.1),SKT.Wa.V[o]=random_vec(SKT.Wa.M[o]);SKT.Wa.A=SKT.PE.V[3].copy(),SKT.Scl=VIEWPORT.h/1483,SKT.rct_serzinho={x:SKT.bgx+426*SKT.Scl,y:1229*SKT.Scl,w:192*SKT.Scl,h:199*SKT.Scl},SKT.sound_fio=loadSound("data01/01-fio-de-algodao-2.wav",build_S01_step4,failed)}function build_S01_step4(){SKT.sound_pemao=loadSound("data01/02-pe-de-algodao1.wav",build_S01_step5,failed)}function build_S01_step5(){SKT.sound_serzinho=loadSound("data01/03-serzinho-em-baixo-3.wav",build_S01_step6,failed)}function build_S01_step6(){SKT.sound_fio.playMode("sustain"),SKT.sound_pemao.playMode("sustain"),SKT.sound_serzinho.playMode("sustain"),SKT.draw=S01_draw,SKT.mouseMoved=S01_mouseMoved,SKT.mousePressed=S01_mousePressed,SKT.mouseDragged=S01_mouseDragged,SKT.mouseReleased=S01_mouseReleased,SKT.end=S01_end,imageMode(CORNER),loop()}function S01_draw(){mouseX==pmouseX&&mouseY==pmouseY&&(p5.Vector.dist(SKT.PE.V[3],SKT.MH[SKT.mhi])<40&&(SKT.contact_pemao+=1),coordinates_in_rct(mouseX,mouseY,SKT.rct_serzinho)&&(SKT.contact_serzinho+=1)),SKT.contact_fio>0&&(SKT.sound_fio.isPlaying()||SKT.sound_fio.play(),SKT.contact_fio>60&&(SKT.contact_fio=60),SKT.contact_fio-=1,SKT.contact_fio<=0&&SKT.sound_fio.stop()),SKT.contact_pemao>0&&(SKT.sound_pemao.isPlaying()||SKT.sound_pemao.play(),SKT.contact_pemao>60&&(SKT.contact_pemao=60),SKT.contact_pemao-=1,SKT.contact_pemao<=0&&SKT.sound_pemao.stop()),SKT.contact_serzinho>0&&(SKT.sound_serzinho.isPlaying()||SKT.sound_serzinho.play(),SKT.contact_serzinho>60&&(SKT.contact_serzinho=60),SKT.contact_serzinho-=1,SKT.contact_serzinho<=0&&SKT.sound_serzinho.stop()),clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("NOSSA RELAÇÃO\nCOM A TERRA\nÉ DE FATO UMA BASE\nPARA PENSARMOS\nARQUIVO-INDÍGENA",100,trimid),push(),translate(SKT.bgx,0),scale(SKT.Scl),image(SKT.bg,0,0),pop(),stroke(255),strokeWeight(5);for(var o=1;o<SKT.P.length;++o)line(SKT.P[o].x,SKT.P[o].y,SKT.P[o-1].x,SKT.P[o-1].y);let e=p5.Vector.sub(SKT.Wa.A,SKT.PE.V[3]).mult(4e-5),t=createVector(0,0);for(o=1;o<3;++o)t.add(SKT.Wa.V[o]),SKT.Wa.V[o].add(e),SKT.Wa.V[o].add(random_vec(.003)),SKT.Wa.V[o].magSq()>sq(SKT.Wa.M[o])&&SKT.Wa.V[o].mult(SKT.Wa.M[o]/SKT.Wa.V[o].mag());let a=p5.Vector.add(SKT.PE.V[3],t);SKT.PE.move_anchored(a),SKT.PE.draw()}function S01_mouseMoved(){SKT.MH[SKT.mhi].set(mouseX,mouseY),SKT.mhl=SKT.mhi>=2?0:SKT.mhi+1,SKT.MH[SKT.mhl].x<0&&SKT.MH[SKT.mhl].set(mouseX-movedX,mouseY-movedY);let o={A:SKT.MH[SKT.mhi],B:SKT.MH[SKT.mhl]},e={A:SKT.P[0],B:null};for(var t=1;t<SKT.P.length;++t){if(e.B=SKT.P[t],intersect(o,e)){for(var a=constrain(t-5,0,SKT.P.length-1);a<t;a++)SKT.P[a].x+=map(a,t-5,t,.1,.85)*movedX,SKT.P[a].y+=map(a,t-5,t,.1,.85)*movedY;let o=constrain(t+5,0,SKT.P.length-1);for(a=t;a<o;a++)SKT.P[a].x+=map(a,t,t+5,.85,.1)*movedX,SKT.P[a].y+=map(a,t,t+5,.85,.1)*movedY;drag_fio_vpl(SKT.P,SKT.Pl,t),SKT.contact_fio+=3}e.A=e.B}e.A=SKT.PE.V[1];let s=0;for(t=2;t<4;++t)e.B=SKT.PE.V[t],intersect(o,e)&&(SKT.Wa.V[2].x+=.1*movedX,SKT.Wa.V[2].y+=.1*movedY,s=1,SKT.contact_pemao+=2),e.A=e.B;if(!s){p5.Vector.dist(SKT.PE.V[3],SKT.MH[SKT.mhi])<40&&(SKT.Wa.V[2].x+=.02*movedX,SKT.Wa.V[2].y+=.02*movedY,SKT.contact_pemao+=2)}coordinates_in_rct(mouseX,mouseY,SKT.rct_serzinho)&&(SKT.contact_serzinho+=2),SKT.mhi+=1,SKT.mhi>=3&&(SKT.mhi=0)}function S01_mousePressed(){let o=createVector(mouseX,mouseY);for(var e=0;e<SKT.P.length;++e){if(p5.Vector.sub(SKT.P[e],o).magSq()<8){SKT.D=e;break}}}function S01_mouseDragged(){SKT.D>=0&&(SKT.P[SKT.D].x=mouseX,SKT.P[SKT.D].y=mouseY,drag_fio_vpl(SKT.P,SKT.Pl,SKT.D),SKT.contact_fio+=3),p5.Vector.dist(SKT.PE.V[3],SKT.MH[SKT.mhi])<40&&(SKT.contact_pemao+=1),coordinates_in_rct(mouseX,mouseY,SKT.rct_serzinho)&&(SKT.contact_serzinho+=1)}function S01_mouseReleased(){SKT.D=-1}function S01_end(){SKT.sound_fio.stop(),SKT.sound_pemao.stop(),SKT.sound_serzinho.stop()}function build_S02(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bg=loadImage("data02/desenho.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.img=loadImage("data02/algodoes.png"),loadStrings("data02/algodata.txt",build_S02_step1,failed)}function build_S02_step1(o){SKT.Scl=VIEWPORT.h/1312,SKT.N=o.length,SKT.S=Array(SKT.N);for(var e=0;e<SKT.N;e++)SKT.S[e]=new Stalk(o[e],SKT.Scl,SKT.bgx);SKT.GX=SKT.bgx,SKT.GY=163*SKT.Scl,SKT.GW=1/(1055*SKT.Scl*.2),SKT.GH=1/(657*SKT.Scl*.25),SKT.GR=SKT.GX+1055*SKT.Scl,SKT.GB=SKT.GY+657*SKT.Scl,SKT.board_contact=Array(20);for(e=0;e<20;++e)SKT.board_contact[e]=0;SKT.wind=createVector(0,0),SKT.wtet=0,SKT.soundboard=Array(20),SKT.soundboard[0]=loadSound("data02/1.wav",build_S02_step2,failed),SKT.soundboard[0].playMode("sustain")}function build_S02_step2(){SKT.soundboard[1]=loadSound("data02/2.wav",build_S02_step3,failed),SKT.soundboard[1].playMode("sustain")}function build_S02_step3(){SKT.soundboard[2]=loadSound("data02/3.wav",build_S02_step4,failed),SKT.soundboard[2].playMode("sustain")}function build_S02_step4(){SKT.soundboard[3]=loadSound("data02/4.wav",build_S02_step5,failed),SKT.soundboard[3].playMode("sustain")}function build_S02_step5(){SKT.soundboard[4]=loadSound("data02/5.wav",build_S02_step6,failed),SKT.soundboard[4].playMode("sustain")}function build_S02_step6(){SKT.soundboard[5]=loadSound("data02/6.wav",build_S02_step7,failed),SKT.soundboard[5].playMode("sustain")}function build_S02_step7(){SKT.soundboard[6]=loadSound("data02/7.wav",build_S02_step8,failed),SKT.soundboard[6].playMode("sustain")}function build_S02_step8(){SKT.soundboard[7]=loadSound("data02/8.wav",build_S02_step9,failed),SKT.soundboard[7].playMode("sustain")}function build_S02_step9(){SKT.soundboard[8]=loadSound("data02/9.wav",build_S02_step10,failed),SKT.soundboard[8].playMode("sustain")}function build_S02_step10(){SKT.soundboard[9]=loadSound("data02/10.wav",build_S02_step11,failed),SKT.soundboard[9].playMode("sustain")}function build_S02_step11(){SKT.soundboard[10]=loadSound("data02/11.wav",build_S02_step12,failed),SKT.soundboard[10].playMode("sustain")}function build_S02_step12(){SKT.soundboard[11]=loadSound("data02/12.wav",build_S02_step13,failed),SKT.soundboard[11].playMode("sustain")}function build_S02_step13(){SKT.soundboard[12]=loadSound("data02/13.wav",build_S02_step14,failed),SKT.soundboard[12].playMode("sustain")}function build_S02_step14(){SKT.soundboard[13]=loadSound("data02/14.wav",build_S02_step15,failed),SKT.soundboard[13].playMode("sustain")}function build_S02_step15(){SKT.soundboard[14]=loadSound("data02/15.wav",build_S02_step16,failed),SKT.soundboard[14].playMode("sustain")}function build_S02_step16(){SKT.soundboard[15]=loadSound("data02/16.wav",build_S02_step17,failed),SKT.soundboard[15].playMode("sustain")}function build_S02_step17(){SKT.soundboard[16]=loadSound("data02/17.wav",build_S02_step18,failed),SKT.soundboard[16].playMode("sustain")}function build_S02_step18(){SKT.soundboard[17]=loadSound("data02/18.wav",build_S02_step19,failed),SKT.soundboard[17].playMode("sustain")}function build_S02_step19(){SKT.soundboard[18]=loadSound("data02/19.wav",build_S02_step20,failed),SKT.soundboard[18].playMode("sustain")}function build_S02_step20(){SKT.soundboard[19]=loadSound("data02/20.wav",build_S02_step21,failed),SKT.soundboard[19].playMode("sustain")}function build_S02_step21(){SKT.draw=S02_draw,SKT.mouseMoved=S02_mouseMoved,loop()}function S02_draw(){if(mouseX==pmouseX&&mouseY==pmouseY&&mouseX>SKT.GX&&mouseX<SKT.GR&&mouseY>SKT.GY&&mouseY<SKT.GB){let o=floor((mouseX-SKT.GX)*SKT.GW),e=floor((mouseY-SKT.GY)*SKT.GH);SKT.board_contact[o+5*e]+=2}for(var o=0;o<20;++o)SKT.board_contact[o]>0&&(SKT.soundboard[o].isPlaying()||SKT.soundboard[o].play(),SKT.board_contact[o]>45&&(SKT.board_contact[o]=45),SKT.board_contact[o]-=1,SKT.board_contact[o]<=0&&SKT.soundboard[o].stop());clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("E SE\nNOSSAS AUSÊNCIAS\nNÃO FOSSEM SINTOMAS?",100,trimid),push(),translate(SKT.bgx,0),scale(SKT.Scl),image(SKT.bg,0,0),pop(),SKT.wind.x=.3*cos(SKT.wtet),SKT.wtet+=.01;for(o=0;o<SKT.N;++o)SKT.S[o].move_anchored(SKT.wind),SKT.S[o].draw(SKT.img)}function S02_mouseMoved(){let o=createVector(mouseX,mouseY);for(var e=0;e<SKT.N;++e){let t=p5.Vector.sub(SKT.S[e].V[2],o).magSq();t<2500&&(t<250&&(t=250),SKT.S[e].move_anchored(createVector(movedX,movedY).mult(75/t)))}if(mouseX>SKT.GX&&mouseX<SKT.GR&&mouseY>SKT.GY&&mouseY<SKT.GB){let o=floor((mouseX-SKT.GX)*SKT.GW),e=floor((mouseY-SKT.GY)*SKT.GH);SKT.board_contact[o+5*e]+=2}}function build_S03(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.Scl=VIEWPORT.h/1199,SKT.dst=Array(8),SKT.dst[0]={x:280,y:981,w:228,h:193},SKT.dst[1]={x:291,y:108,w:202,h:904},SKT.dst[2]={x:321,y:639,w:322,h:344},SKT.dst[3]={x:188,y:522,w:126,h:204},SKT.dst[4]={x:232,y:247,w:170,h:80},SKT.dst[5]={x:350,y:701,w:227,h:167},SKT.dst[6]={x:349,y:367,w:217,h:319},SKT.dst[7]={x:636,y:540,w:242,h:253},SKT.V=Array(8),SKT.V[0]=createVector(322.102,1008.18),SKT.V[1]=createVector(307.607,705.403),SKT.V[2]=createVector(347.87,850.349),SKT.V[3]=createVector(217.419,560.457),SKT.V[4]=createVector(265.734,273.787),SKT.V[5]=createVector(452.553,832.634),SKT.V[6]=createVector(457.385,484.764),SKT.V[7]=createVector(752.108,665.141),SKT.RV=Array(8),SKT.RV[0]=null,SKT.RV[1]=SKT.V[0].copy(),SKT.RV[2]=SKT.V[0].copy(),SKT.RV[3]=SKT.V[1].copy(),SKT.RV[4]=createVector(401.017,318.881),SKT.RV[5]=SKT.V[2].copy(),SKT.RV[6]=createVector(426.785,689.298),SKT.RV[7]=createVector(708.624,557.236),SKT.O=Array(8),SKT.da=Array(8),SKT.td=Array(8);for(var o=0;o<8;o++)null==SKT.RV[o]?SKT.O[o]=createVector(SKT.V[o].x-SKT.dst[o].x,SKT.V[o].y-SKT.dst[o].y).mult(SKT.Scl):(SKT.O[o]=createVector(SKT.RV[o].x-SKT.dst[o].x,SKT.RV[o].y-SKT.dst[o].y).mult(SKT.Scl),SKT.da[o]=-atan2(SKT.V[o].y-SKT.RV[o].y,SKT.V[o].x-SKT.RV[o].x),SKT.RV[o].mult(SKT.Scl)),SKT.td[o]={w:SKT.dst[o].w*SKT.Scl,h:SKT.dst[o].h*SKT.Scl},SKT.V[o].mult(SKT.Scl),SKT.V[o].x+=SKT.bgx,null!=SKT.RV[o]&&(SKT.RV[o].x+=SKT.bgx);SKT.bo=Array(3),SKT.bo[0]=p5.Vector.sub(SKT.RV[4],SKT.V[1]),SKT.bo[0].rotate(-atan2(SKT.V[1].y-SKT.V[0].y,SKT.V[1].x-SKT.V[0].x)),SKT.bo[1]=p5.Vector.sub(SKT.RV[6],SKT.V[2]),SKT.bo[1].rotate(-atan2(SKT.V[2].y-SKT.V[0].y,SKT.V[2].x-SKT.V[0].x)),SKT.bo[2]=p5.Vector.sub(SKT.RV[7],SKT.V[2]),SKT.bo[2].rotate(-atan2(SKT.V[2].y-SKT.V[0].y,SKT.V[2].x-SKT.V[0].x)),SKT.l=Array(7),SKT.l[0]=p5.Vector.dist(SKT.V[0],SKT.V[1]),SKT.l[1]=p5.Vector.dist(SKT.V[0],SKT.V[2]),SKT.l[2]=p5.Vector.dist(SKT.RV[3],SKT.V[3]),SKT.l[3]=p5.Vector.dist(SKT.RV[4],SKT.V[4]),SKT.l[4]=p5.Vector.dist(SKT.RV[5],SKT.V[5]),SKT.l[5]=p5.Vector.dist(SKT.RV[6],SKT.V[6]),SKT.l[6]=p5.Vector.dist(SKT.RV[7],SKT.V[7]),SKT.normals=Array(8);for(o=1;o<8;++o)SKT.normals[o]=p5.Vector.sub(SKT.V[o],SKT.RV[o]).mult(.01);SKT.wind=createVector(0,0),SKT.img=Array(8),SKT.img[0]=loadImage("data03/foot.png",build_S03_step1,failed)}function build_S03_step1(){SKT.img[1]=loadImage("data03/left branch.png",build_S03_step2,failed)}function build_S03_step2(){SKT.img[2]=loadImage("data03/right branch.png",build_S03_step3,failed)}function build_S03_step3(){SKT.img[3]=loadImage("data03/left leaf.png",build_S03_step4,failed)}function build_S03_step4(){SKT.img[4]=loadImage("data03/top leaf.png",build_S03_step5,failed)}function build_S03_step5(){SKT.img[5]=loadImage("data03/file folder.png",build_S03_step6,failed)}function build_S03_step6(){SKT.img[6]=loadImage("data03/flower.png",build_S03_step7,failed)}function build_S03_step7(){SKT.img[7]=loadImage("data03/right leaf.png",build_S03_step8,failed)}function build_S03_step8(){SKT.sound_pasta=loadSound("data03/01-arquivo-planta-1.wav",build_S03_step9,failed),SKT.sound_pasta.playMode("sustain")}function build_S03_step9(){SKT.sound_flor=loadSound("data03/02-flor-do-algodao15.wav",build_S03_step10,failed),SKT.sound_flor.playMode("sustain")}function build_S03_step10(){SKT.sound_folhas=loadSound("data02/11.wav",build_S03_step11,failed),SKT.sound_folhas.playMode("sustain")}function build_S03_step11(){SKT.draw=S03_draw,loop()}function S03_draw(){let o=createVector(mouseX,mouseY);p5.Vector.dist(o,SKT.V[5])<140*SKT.Scl?SKT.sound_pasta.isPlaying()||SKT.sound_pasta.loop():SKT.sound_pasta.pause(),p5.Vector.dist(o,SKT.V[6])<200*SKT.Scl?SKT.sound_flor.isPlaying()||SKT.sound_flor.loop():SKT.sound_flor.pause(),p5.Vector.dist(o,SKT.V[3])<140*SKT.Scl||p5.Vector.dist(o,SKT.V[4])<140*SKT.Scl||p5.Vector.dist(o,SKT.V[7])<230*SKT.Scl?SKT.sound_folhas.isPlaying()||SKT.sound_folhas.loop():SKT.sound_folhas.pause(),clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("E SE\nUM DE NOSSOS\nARQUIVOS-INÍGENAS\nSE INICIAR\nNUMA FLOR DE ALGODÃO?",100,trimid),SKT.wind=p5.Vector.lerp(SKT.wind,createVector(movedX,movedY).mult(.1),.1),SKT.wind.x*=.99,SKT.wind.y*=.3;for(var e=1;e<8;++e)SKT.V[e].add(SKT.wind),SKT.V[e].add(SKT.normals[e]);SKT.RV[1]=SKT.V[0].copy(),SKT.RV[2]=SKT.V[0].copy(),SKT.RV[3]=SKT.V[1].copy(),SKT.RV[5]=SKT.V[2].copy(),SKT.RV[4]=maintain(SKT.V[1],SKT.V[0],SKT.bo[0]),SKT.RV[6]=maintain(SKT.V[2],SKT.V[0],SKT.bo[1]),SKT.RV[7]=maintain(SKT.V[2],SKT.V[0],SKT.bo[2]),propagate(SKT.V[0],SKT.V[1],SKT.l[0]),propagate(SKT.V[0],SKT.V[2],SKT.l[1]),propagate(SKT.RV[3],SKT.V[3],SKT.l[2]),propagate(SKT.RV[4],SKT.V[4],SKT.l[3]),propagate(SKT.RV[5],SKT.V[5],SKT.l[4]),propagate(SKT.RV[6],SKT.V[6],SKT.l[5]),propagate(SKT.RV[7],SKT.V[7],SKT.l[6]);for(e=0;e<8;++e)push(),null==SKT.RV[e]?translate(SKT.V[e].x,SKT.V[e].y):(translate(SKT.RV[e].x,SKT.RV[e].y),rotate(atan2(SKT.V[e].y-SKT.RV[e].y,SKT.V[e].x-SKT.RV[e].x)+SKT.da[e])),image(SKT.img[e],-SKT.O[e].x,-SKT.O[e].y,SKT.td[e].w,SKT.td[e].h),pop()}function build_S04(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).img=loadImage("data04/desenho.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.Scl=VIEWPORT.h/1380,SKT.src=Array(4),SKT.src[0]={x:251,y:28,w:210,h:213},SKT.src[1]={x:221,y:324,w:321,h:236},SKT.src[2]={x:195,y:681,w:303,h:243},SKT.src[3]={x:172,y:1009,w:396,h:354},SKT.A=Array(4),SKT.V=Array(4),SKT.O=Array(4),SKT.td=Array(4),SKT.contact=Array(4);for(var o=0;o<4;o++)SKT.O[o]=createVector(.5*SKT.src[o].w,.5*SKT.src[o].h).mult(SKT.Scl),SKT.V[o]=createVector(SKT.Scl*SKT.src[o].x+SKT.O[o].x+SKT.bgx,SKT.Scl*SKT.src[o].y+SKT.O[o].y),SKT.A[o]=SKT.V[o].copy(),SKT.td[o]={w:SKT.Scl*SKT.src[o].w,h:SKT.Scl*SKT.src[o].h},SKT.contact[o]=0;SKT.voices=Array(4),SKT.voices[0]=loadSound("data04/1.wav",build_S04_step2,failed),SKT.voices[0].playMode("sustain")}function build_S04_step2(){SKT.voices[1]=loadSound("data04/2.wav",build_S04_step3,failed),SKT.voices[1].playMode("sustain")}function build_S04_step3(){SKT.voices[2]=loadSound("data04/3.wav",build_S04_step4,failed),SKT.voices[2].playMode("sustain")}function build_S04_step4(){SKT.voices[3]=loadSound("data04/4.wav",build_S04_step5,failed),SKT.voices[3].playMode("sustain")}function build_S04_step5(){SKT.draw=S04_draw,SKT.mouseMoved=S04_mouseMoved,loop()}function S04_draw(){if(mouseX==pmouseX&&mouseY==pmouseY){let e=createVector(mouseX,mouseY);for(var o=0;o<4;o++){if(p5.Vector.dist(SKT.V[o],e)<.5*SKT.td[o].w){SKT.contact[o]+=1;break}}}for(o=0;o<4;++o)SKT.contact[o]>0&&(SKT.voices[o].isPlaying()||SKT.voices[o].play(),SKT.contact[o]>45&&(SKT.contact[o]=45),SKT.contact[o]-=1,SKT.contact[o]<=0&&SKT.voices[o].stop());clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("E SE\nA FLOR\nESTE FIO-ARQUIVO-VIVO\nESTÁ NUM TEMPO HISTÓRICO\nNÃO-LINEAR?",100,trimid);for(o=0;o<4;o++){let e=p5.Vector.sub(SKT.A[o],SKT.V[o]).mult(.05);SKT.V[o].add(e),image(SKT.img,SKT.V[o].x-SKT.O[o].x,SKT.V[o].y-SKT.O[o].y,SKT.td[o].w,SKT.td[o].h,SKT.src[o].x,SKT.src[o].y,SKT.src[o].w,SKT.src[o].h)}}function S04_mouseMoved(){let o=createVector(mouseX,mouseY);for(var e=0;e<4;e++){p5.Vector.dist(SKT.V[e],o)<.5*SKT.td[e].w&&(SKT.V[e].x-=.12*movedX,SKT.V[e].y-=.12*movedY,SKT.contact[e]+=2)}}function build_S05(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.bgy=.2*VIEWPORT.h,SKT.Scl=VIEWPORT.h/1145.76,SKT.img=loadImage("data05/desenho--05.png"),SKT.puff=loadImage("data05/puff.png"),frameRate(24),SKT.rct={x:267*SKT.Scl+SKT.bgx,y:185*SKT.Scl+SKT.bgy,w:241*SKT.Scl,h:344*SKT.Scl},SKT.src=createVector(382,322).mult(SKT.Scl),SKT.src.x+=SKT.bgx,SKT.src.y+=SKT.bgy,SKT.B=[],SKT.breathe=!1,SKT.bounds={x:VIEWPORT.x-35,y:VIEWPORT.y-35,w:VIEWPORT.w+70,h:VIEWPORT.h+70},SKT.veia_rezando=loadSound("data05/01-veia-rezando-18.wav",build_S05_step,failed),SKT.veia_rezando.playMode("sustain")}function build_S05_step(){SKT.veia_rezando.loop(),SKT.draw=S05_draw,SKT.mouseMoved=S05_mouseMoved,SKT.end=S05_end,loop()}function S05_draw(){if(clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("E SE\nNOSSO FIO-ARQUIVO\nSE ORGANIZA\nNO TEMPO DAS RELAÇÕES\nSEMENTE-FLORESTA",100,trimid),push(),imageMode(CORNER),translate(SKT.bgx,SKT.bgy),scale(SKT.Scl),image(SKT.img,0,0),pop(),SKT.breathe){let e=random(2,4);for(var o=0;o<e;o++)SKT.B.push(new Bubble(SKT.src.x,SKT.src.y))}imageMode(CENTER);for(o=SKT.B.length-1;o>=0;o--)SKT.B[o].draw(SKT.puff),coordinates_in_rct(SKT.B[o].pos.x,SKT.B[o].pos.y,SKT.bounds)||SKT.B.splice(o,1)}function S05_mouseMoved(){coordinates_in_rct(mouseX,mouseY,SKT.rct)?SKT.breathe=!0:SKT.breathe=!1}function S05_end(){SKT.veia_rezando.stop()}function build_S06(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).img=loadImage("data06/desenho--06.png"),SKT.bg=loadImage("data06/bg.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.bgy=VIEWPORT.y+.1*VIEWPORT.h,SKT.Scl=VIEWPORT.h/(1.1*1121),SKT.srcs=Array(7),SKT.srcs[0]={x:182,y:0,w:151,h:171},SKT.srcs[1]={x:436,y:143,w:173,h:145},SKT.srcs[2]={x:0,y:226,w:185,h:154},SKT.srcs[3]={x:375,y:478,w:169,h:126},SKT.srcs[4]={x:70,y:572,w:153,h:159},SKT.srcs[5]={x:358,y:661,w:168,h:172},SKT.srcs[6]={x:135,y:816,w:153,h:230},SKT.dsts=Array(7),SKT.contact_cabecas=Array(7);for(var o=0;o<7;++o)SKT.dsts[o]={x:SKT.srcs[o].x*SKT.Scl+SKT.bgx,y:SKT.srcs[o].y*SKT.Scl+SKT.bgy,w:SKT.srcs[o].w*SKT.Scl,h:SKT.srcs[o].h*SKT.Scl},SKT.contact_cabecas[o]=0;let e=Array(7);e[0]=createVector(296.694,101.653).mult(SKT.Scl),e[1]=createVector(471.074,195.868).mult(SKT.Scl),e[2]=createVector(139.669,294.215).mult(SKT.Scl),e[3]=createVector(425.62,503.306).mult(SKT.Scl),e[4]=createVector(182.684,627.592).mult(SKT.Scl),e[5]=createVector(396.158,728.685).mult(SKT.Scl),e[6]=createVector(269.408,869.803).mult(SKT.Scl);for(o=0;o<7;++o)e[o].x+=SKT.bgx,e[o].y+=SKT.bgy;var t=0;for(o=0;o<6;++o)t+=p5.Vector.dist(e[o],e[o+1]);SKT.L=8;floor(t/SKT.L);SKT.P=[],SKT.hooks=Array(7),SKT.anchors=Array(7),SKT.O=Array(7);let a=0;for(o=0;o<6;++o){SKT.P.push(e[o].copy()),SKT.hooks[o]=a,SKT.anchors[o]=SKT.P[a].copy(),SKT.O[o]=createVector(SKT.dsts[o].x-SKT.P[a].x,SKT.dsts[o].y-SKT.P[a].y),a+=1;let t=p5.Vector.dist(e[o],e[o+1]),S=floor(t/SKT.L),d=atan2(e[o+1].y-e[o].y,e[o+1].x-e[o].x),T=createVector(SKT.L*cos(d),SKT.L*sin(d));for(var s=0;s<S;++s)SKT.P.push(p5.Vector.add(SKT.P[a-1],T)),a+=1}SKT.hooks[6]=a-1,SKT.anchors[6]=SKT.P[a-1].copy(),SKT.O[6]=createVector(SKT.dsts[6].x-SKT.P[a-1].x,SKT.dsts[6].y-SKT.P[a-1].y),SKT.force=createVector(3,0),SKT.sound_fio=loadSound("data06/01-fio-de-algodao-2.wav",build_S06_step1,failed),SKT.sound_fio.playMode("sustain"),SKT.sound_cabecas=Array(7)}function build_S06_step1(o){SKT.sound_cabecas[0]=loadSound("data06/1.wav",build_S06_step2,failed),SKT.sound_cabecas[0].playMode("sustain")}function build_S06_step2(){SKT.sound_cabecas[1]=loadSound("data06/2.wav",build_S06_step3,failed),SKT.sound_cabecas[1].playMode("sustain")}function build_S06_step3(){SKT.sound_cabecas[2]=loadSound("data06/3.wav",build_S06_step4,failed),SKT.sound_cabecas[2].playMode("sustain")}function build_S06_step4(){SKT.sound_cabecas[3]=loadSound("data06/4.wav",build_S06_step5,failed),SKT.sound_cabecas[3].playMode("sustain")}function build_S06_step5(){SKT.sound_cabecas[4]=loadSound("data06/5.wav",build_S06_step6,failed),SKT.sound_cabecas[4].playMode("sustain")}function build_S06_step6(){SKT.sound_cabecas[5]=loadSound("data06/6.wav",build_S06_step7,failed),SKT.sound_cabecas[5].playMode("sustain")}function build_S06_step7(){SKT.sound_cabecas[6]=loadSound("data06/7.wav",build_S06_step8,failed),SKT.sound_cabecas[6].playMode("sustain")}function build_S06_step8(){SKT.draw=S06_draw,SKT.mouseMoved=S06_mouseMoved,loop()}function S06_draw(){if(mouseX==pmouseX&&mouseY==pmouseY)for(var o=0;o<7;++o)coordinates_in_rct(mouseX,mouseY,SKT.dsts[o])&&(SKT.contact_cabecas[o]+=1);SKT.contact_fio>0&&(SKT.sound_fio.isPlaying()||SKT.sound_fio.play(),SKT.contact_fio>60&&(SKT.contact_fio=60),SKT.contact_fio-=1,SKT.contact_fio<=0&&SKT.sound_fio.stop());for(o=0;o<7;++o)if(SKT.contact_cabecas[o]>0){SKT.sound_cabecas[o].isPlaying()||SKT.sound_cabecas[o].play(),SKT.contact_cabecas[o]>60&&(SKT.contact_cabecas[o]=60),SKT.contact_cabecas[o]-=1,SKT.contact_cabecas[o]<=0&&SKT.sound_cabecas[o].stop();let e=SKT.force.copy();e.add(p5.Vector.sub(SKT.anchors[o],SKT.P[SKT.hooks[o]]).mult(.1)),SKT.P[SKT.hooks[o]].add(e),SKT.dsts[o].x=SKT.P[SKT.hooks[o]].x+SKT.O[o].x,SKT.dsts[o].y=SKT.P[SKT.hooks[o]].y+SKT.O[o].y,SKT.force.rotate(.02),drag_fio_l(SKT.P,SKT.L,SKT.hooks[o])}else if(p5.Vector.sub(SKT.anchors[o],SKT.P[SKT.hooks[o]]).magSq()>1){let e=p5.Vector.sub(SKT.anchors[o],SKT.P[SKT.hooks[o]]).mult(.025);SKT.P[SKT.hooks[o]].add(e),SKT.dsts[o].x=SKT.P[SKT.hooks[o]].x+SKT.O[o].x,SKT.dsts[o].y=SKT.P[SKT.hooks[o]].y+SKT.O[o].y,drag_fio_l(SKT.P,SKT.L,SKT.hooks[o])}clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("E SE\nNOSSAS REDES DE SABERES\nSE UNEM PARA FAZER\nUM FIO-FORTE?",100,trimid),push(),imageMode(CORNER),translate(SKT.bgx,SKT.bgy),scale(SKT.Scl),image(SKT.bg,0,0),pop();for(o=0;o<7;++o)image(SKT.img,SKT.dsts[o].x,SKT.dsts[o].y,SKT.dsts[o].w,SKT.dsts[o].h,SKT.srcs[o].x,SKT.srcs[o].y,SKT.srcs[o].w,SKT.srcs[o].h);stroke("#8a0d12"),strokeWeight(7);for(o=1;o<SKT.P.length;++o)line(SKT.P[o].x,SKT.P[o].y,SKT.P[o-1].x,SKT.P[o-1].y);stroke(255),strokeWeight(4);for(o=1;o<SKT.P.length;++o)line(SKT.P[o].x,SKT.P[o].y,SKT.P[o-1].x,SKT.P[o-1].y)}function S06_mouseMoved(){for(var o=0;o<7;++o)coordinates_in_rct(mouseX,mouseY,SKT.dsts[o])&&(SKT.contact_cabecas[o]+=2)}function build_S07(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bg=loadImage("data07/desenho--07.png"),SKT.nubs=Array(2),SKT.nubs[0]=loadImage("data07/nub-L.png"),SKT.nubs[1]=loadImage("data07/nub-R.png"),SKT.bgx=VIEWPORT.x+.35*VIEWPORT.w,SKT.bgy=.06*VIEWPORT.h,SKT.Scl=.6*VIEWPORT.w/1444,SKT.V=Array(2),SKT.RV=Array(2),SKT.RV[0]=createVector(130.729,606.311),SKT.V[0]=createVector(165.289,323.065),SKT.RV[1]=createVector(141.998,605.56),SKT.V[1]=createVector(298.272,441.022),SKT.radsq=Array(2),SKT.radsq[0]=sq(140*SKT.Scl),SKT.radsq[1]=sq(122*SKT.Scl),SKT.dst=Array(2),SKT.dst[0]={x:79,y:223,w:191,h:386},SKT.dst[1]={x:136,y:356,w:247,h:254},SKT.O=Array(2),SKT.da=Array(2),SKT.td=Array(2),SKT.l=Array(2),SKT.normals=Array(2);for(var o=0;o<2;o++)SKT.O[o]=createVector(SKT.RV[o].x-SKT.dst[o].x,SKT.RV[o].y-SKT.dst[o].y).mult(SKT.Scl),SKT.da[o]=-atan2(SKT.V[o].y-SKT.RV[o].y,SKT.V[o].x-SKT.RV[o].x),SKT.td[o]={w:SKT.dst[o].w*SKT.Scl,h:SKT.dst[o].h*SKT.Scl},SKT.RV[o].mult(SKT.Scl),SKT.V[o].mult(SKT.Scl),SKT.RV[o].x+=SKT.bgx,SKT.RV[o].y+=SKT.bgy,SKT.V[o].x+=SKT.bgx,SKT.V[o].y+=SKT.bgy,SKT.l[o]=p5.Vector.dist(SKT.RV[o],SKT.V[o]),SKT.normals[o]=p5.Vector.sub(SKT.V[o],SKT.RV[o]).mult(.01);SKT.fios=[],SKT.FL=6,SKT.FLsq=sq(SKT.FL),SKT.D=-1,SKT.Di=-1,SKT.sound_fio=loadSound("data07/01-fio-de-algodao-2.wav",build_S07_step,failed),SKT.sound_fio.playMode("sustain")}function build_S07_step(){SKT.draw=S07_draw,SKT.mouseMoved=S07_mouseMoved,SKT.mousePressed=S07_mousePressed,SKT.mouseDragged=S07_mouseDragged,SKT.mouseReleased=S07_mouseReleased,loop()}function S07_draw(){SKT.D>=0?SKT.sound_fio.isPlaying()||SKT.sound_fio.loop():SKT.sound_fio.pause(),clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text('"ISSO TUDO\nNÃO ME DIZ\nNADA."\nE SE\nTECERMOS NOSSOS\nCAMINHOS?',100,trimid),push(),imageMode(CORNER),translate(SKT.bgx,SKT.bgy),scale(SKT.Scl),image(SKT.bg,0,0),pop();for(var o=0;o<2;++o)SKT.V[o].add(SKT.normals[o]),propagate(SKT.RV[o],SKT.V[o],SKT.l[o]),push(),null==SKT.RV[o]?translate(SKT.V[o].x,SKT.V[o].y):(translate(SKT.RV[o].x,SKT.RV[o].y),rotate(atan2(SKT.V[o].y-SKT.RV[o].y,SKT.V[o].x-SKT.RV[o].x)+SKT.da[o])),image(SKT.nubs[o],-SKT.O[o].x,-SKT.O[o].y,SKT.td[o].w,SKT.td[o].h),pop();stroke(255),strokeWeight(4);for(o=SKT.fios.length-1;o>=0;o--)SKT.fios[o].draw()}function S07_mouseMoved(){let o=createVector(mouseX,mouseY),e=!1;for(var t=0;t<2;++t)if(p5.Vector.sub(SKT.V[t],o).magSq()<SKT.radsq[t]){let o=createVector(movedX,movedY).mult(.1);SKT.V[t].add(o),e=!0}if(e)for(t=SKT.fios.length-1;t>=0;t--)SKT.fios[t].drag_tail(SKT.FL)}function S07_mousePressed(){let o=createVector(mouseX,mouseY);for(var e=0;e<2;++e)p5.Vector.sub(SKT.V[e],o).magSq()<SKT.radsq[e]&&(SKT.fios.push(new Fio_Ancorado(SKT.V[e],o)),SKT.D=SKT.fios.length-1,SKT.Di=0);if(SKT.D<0)for(var t=0;t<SKT.fios.length;++t)for(e=0;e<SKT.fios[t].P.length;++e){if(p5.Vector.sub(SKT.fios[t].P[e],o).magSq()<10){SKT.D=t,SKT.Di=e;break}}}function S07_mouseDragged(){SKT.D>=0&&(0==SKT.Di?SKT.fios[SKT.D].drag_head(createVector(mouseX,mouseY),SKT.FL,SKT.FLsq):(SKT.fios[SKT.D].P[SKT.Di].set(mouseX,mouseY),SKT.fios[SKT.D].drag_fio(SKT.Di,SKT.FL),SKT.fios[SKT.D].drag_tail(SKT.FL)))}function S07_mouseReleased(){SKT.D=-1}function build_S08(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bg=loadImage("data08/bg.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.flores=Array(5);for(var o=0;o<5;o++)SKT.flores[o]=loadImage("data08/flor"+(o+1)+".png");SKT.Scl=VIEWPORT.h/888,SKT.bgx=.5*(width-SKT.Scl*SKT.bg.width);let e=Array(5);e[0]={x:160,y:147,w:165,h:190},e[1]={x:389,y:237,w:190,h:192},e[2]={x:187,y:324,w:221,h:165},e[3]={x:182,y:467,w:186,h:167},e[4]={x:347,y:465,w:190,h:171},SKT.V=Array(5),SKT.V[0]=createVector(243,244),SKT.V[1]=createVector(485,335),SKT.V[2]=createVector(308,407),SKT.V[3]=createVector(276,557),SKT.V[4]=createVector(442,550),SKT.O=Array(5),SKT.td=Array(5),SKT.anchors=Array(5);for(o=0;o<5;o++)SKT.O[o]=createVector(e[o].x-SKT.V[o].x,e[o].y-SKT.V[o].y).mult(SKT.Scl),SKT.V[o].mult(SKT.Scl),SKT.V[o].x+=SKT.bgx,SKT.anchors[o]=SKT.V[o].copy(),SKT.td[o]={w:e[o].w*SKT.Scl,h:e[o].h*SKT.Scl};SKT.radsq=sq(60*SKT.Scl),SKT.fios=[],SKT.FL=6,SKT.FLsq=sq(SKT.FL),SKT.contact_flowers=Array(5);for(o=0;o<5;o++)SKT.contact_flowers[o]=0;SKT.force=createVector(2,0),SKT.sound_flowers=Array(5),SKT.sound_flowers[0]=loadSound("data08/1.wav",build_S08_step2,failed),SKT.sound_flowers[0].playMode("sustain")}function build_S08_step2(){SKT.sound_flowers[1]=loadSound("data08/2.wav",build_S08_step3,failed),SKT.sound_flowers[1].playMode("sustain")}function build_S08_step3(){SKT.sound_flowers[2]=loadSound("data08/3.wav",build_S08_step4,failed),SKT.sound_flowers[2].playMode("sustain")}function build_S08_step4(){SKT.sound_flowers[3]=loadSound("data08/4.wav",build_S08_step5,failed),SKT.sound_flowers[3].playMode("sustain")}function build_S08_step5(){SKT.sound_flowers[4]=loadSound("data08/5.wav",build_S08_step6,failed),SKT.sound_flowers[4].playMode("sustain")}function build_S08_step6(){SKT.draw=S08_draw,SKT.mousePressed=S08_mousePressed,SKT.mouseDragged=S08_mouseDragged,SKT.mouseReleased=S08_mouseReleased,SKT.end=S08_end,loop()}function S08_draw(){let o=createVector(mouseX,mouseY);for(var e=0;e<5;++e)if(p5.Vector.sub(SKT.V[e],o).magSq()<SKT.radsq){SKT.contact_flowers[e]+=2;let o=SKT.force.copy();o.add(p5.Vector.sub(SKT.anchors[e],SKT.V[e]).mult(.1)),SKT.V[e].add(o),SKT.force.rotate(.02)}else{let o=p5.Vector.sub(SKT.anchors[e],SKT.V[e]).mult(.025);SKT.V[e].add(o)}for(e=0;e<5;e++)SKT.contact_flowers[e]>0&&(SKT.sound_flowers[e].isPlaying()||SKT.sound_flowers[e].play(),SKT.contact_flowers[e]>120&&(SKT.contact_flowers[e]=120),SKT.contact_flowers[e]-=1,SKT.contact_flowers[e]<=0&&SKT.sound_flowers[e].pause());clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("UM FIO DE ALGODÃO,\nUM CANTO,\nUMA REDE DE DORMIR,\nUM GRAFISMO\nSÃO DOCUMENTOS\nHISTÓRICOS.\nARQUIVOS-VIVOS.",100,trimid),push(),imageMode(CORNER),translate(SKT.bgx,0),scale(SKT.Scl),image(SKT.bg,0,0),pop();for(e=0;e<5;++e)image(SKT.flores[e],SKT.V[e].x+SKT.O[e].x,SKT.V[e].y+SKT.O[e].y,SKT.td[e].w,SKT.td[e].h);stroke(255),strokeWeight(4);for(e=SKT.fios.length-1;e>=0;e--)SKT.fios[e].draw()}function S08_mousePressed(){let o=createVector(mouseX,mouseY);for(var e=0;e<5;++e)p5.Vector.sub(SKT.V[e],o).magSq()<SKT.radsq&&(SKT.fios.push(new Fio_Ancorado(SKT.V[e],o)),SKT.D=SKT.fios.length-1,SKT.Di=0);if(SKT.D<0)for(var t=0;t<SKT.fios.length;++t)for(e=0;e<SKT.fios[t].P.length;++e){if(p5.Vector.sub(SKT.fios[t].P[e],o).magSq()<10){SKT.D=t,SKT.Di=e;break}}}function S08_mouseDragged(){SKT.D>=0&&(SKT.Di<4?SKT.fios[SKT.D].drag_head(createVector(mouseX,mouseY),SKT.FL,SKT.FLsq):(SKT.fios[SKT.D].P[SKT.Di].set(mouseX,mouseY),SKT.fios[SKT.D].drag_fio(SKT.Di,SKT.FL),SKT.fios[SKT.D].drag_tail(SKT.FL)))}function S08_mouseReleased(){SKT.D=-1}function S08_end(){}function build_S09(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).bg=loadImage("data09/desenho--09.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.Scl=VIEWPORT.h/919*.8,SKT.bgx=.5*(width-SKT.Scl*SKT.bg.width),SKT.bgy=.1*VIEWPORT.h;let o=createVector(SKT.bgx,SKT.bgy);SKT.eyes=Array(2),SKT.eyes[0]={pos:createVector(489.703,491.228).mult(SKT.Scl),rad:4*SKT.Scl},SKT.eyes[1]={pos:createVector(515.706,487.276).mult(SKT.Scl),rad:4.2*SKT.Scl},SKT.eyes[0].pos.add(o),SKT.eyes[1].pos.add(o),SKT.ed=1.6*SKT.eyes[0].rad,SKT.C=createVector(500,500).mult(SKT.Scl).add(o),SKT.R=325*SKT.Scl,SKT.tet=0,SKT.sound=loadSound("data09/14.wav",build_S09_step,failed),SKT.sound.playMode("sustain")}function build_S09_step(){SKT.draw=S09_draw,SKT.end=S09_end,loop()}function S09_draw(){dist(mouseX,mouseY,SKT.C.x,SKT.C.y)<SKT.R?SKT.sound.isPlaying()||SKT.sound.loop():SKT.sound.pause(),clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("ouvir-ARQUIVO\nplantar-ARQUIVO\nesperar-ARQUIVO\nCOLHER-arquivo\nFIAR-arquivo\nSOPRAR-arquivo\nTECER-arquivo",100,trimid);let o=3.5*cos(SKT.tet),e=3.5*sin(2*SKT.tet);SKT.tet+=.03,push(),translate(o,e),push(),imageMode(CORNER),translate(SKT.bgx,SKT.bgy),scale(SKT.Scl),image(SKT.bg,0,0),pop(),fill("#8a0d12"),noStroke();let t=createVector(mouseX,mouseY);for(var a=0;a<2;a++){let o=p5.Vector.sub(t,SKT.eyes[a].pos),e=map(o.mag(),0,.45*width,0,SKT.eyes[a].rad);o.setMag(e),ellipse(SKT.eyes[a].pos.x+o.x,SKT.eyes[a].pos.y+o.y,SKT.ed)}pop()}function S09_end(){SKT.sound.stop()}function build_S10(){(SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end}).spider=loadImage("data10/spider.png"),SKT.bgx=VIEWPORT.x+.6*VIEWPORT.w,SKT.Scl=VIEWPORT.h/1391,SKT.FL=6;let o=createVector(307,663).mult(SKT.Scl);o.x+=SKT.bgx,SKT.fio=new Fio_Ancorado(o,o),SKT.head=createVector(307,0).mult(SKT.Scl),SKT.head.x+=SKT.bgx,SKT.fio.drag_head(SKT.head,SKT.FL,sq(SKT.FL)),SKT.lp=SKT.fio.P.length-1,SKT.vel=createVector(0,0),SKT.lady=loadImage("data10/lady.png",build_S10_step1,failed)}function build_S10_step1(){SKT.lady_dst={x:SKT.head.x-SKT.Scl*SKT.lady.width*.5,y:.9*VIEWPORT.h-SKT.Scl*SKT.lady.height,w:SKT.Scl*SKT.lady.width,h:SKT.Scl*SKT.lady.height},SKT.sound=loadSound("data10/-som-da-aranha-20.wav",build_S10_step2,failed),SKT.sound.playMode("sustain")}function build_S10_step2(){SKT.draw=S10_draw,SKT.mouseMoved=S10_mouseMoved,SKT.end=S10_end,loop()}function S10_draw(){dist(mouseX,mouseY,SKT.fio.P[SKT.lp].x,SKT.fio.P[SKT.lp].y)<100?SKT.sound.isPlaying()||SKT.sound.loop():SKT.sound.pause(),clear(),fill(255),noStroke(),textAlign(LEFT,CENTER),textFont(DINcon,50),textLeading(50),text("AFINAL, MEUS PARENTES,\nO QUE É ARQUIVO?\nOU AINDA:\nO QUE É ARQUIVO-\nINDÍGENA?",100,trimid),stroke(255),strokeWeight(6*SKT.Scl),SKT.fio.draw(),image(SKT.lady,SKT.lady_dst.x,SKT.lady_dst.y,SKT.lady_dst.w,SKT.lady_dst.h),push(),translate(SKT.fio.P[SKT.lp].x,SKT.fio.P[SKT.lp].y);let o=atan2(SKT.fio.P[SKT.lp-1].y-SKT.fio.P[SKT.lp].y,SKT.fio.P[SKT.lp-1].x-SKT.fio.P[SKT.lp].x);rotate(o+HALF_PI),scale(.5*SKT.Scl),image(SKT.spider,-100,-129),pop(),SKT.vel.y+=.5,SKT.fio.P[SKT.lp].x+=SKT.vel.x,SKT.fio.P[SKT.lp].y+=SKT.vel.y,SKT.vel.mult(.96);for(var e=SKT.lp-1;e>0;--e)propagate(SKT.fio.P[e+1],SKT.fio.P[e],SKT.FL);for(e=1;e<SKT.fio.P.length;++e)propagate(SKT.fio.P[e-1],SKT.fio.P[e],SKT.FL)}function S10_mouseMoved(){SKT.vel.x+=.05*movedX,SKT.fio.P[0].y+=.4*movedY,SKT.fio.P[0].y>SKT.head.y&&(SKT.fio.P[0].y=SKT.head.y),SKT.fio.drag_fio(0,SKT.FL)}function S10_end(){SKT.sound.stop()}class S11_CREDITOS{constructor(){textAlign(LEFT,TOP),textFont(DINcon,15),textLeading(17);let o=DINcon.textBounds("É\n\n\n\n\n\n\n\n\n\n\n\n\ng",0,0,15);this.introskp=DINcon.textBounds("https://introscopia.github.io/",0,0,15),this.introskp.x=VIEWPORT.x+.44*VIEWPORT.w,this.introskp.y=VIEWPORT.y+.1*VIEWPORT.h+o.h,this.introskp.b=this.introskp.y+this.introskp.h,this.introskp.r=this.introskp.x+this.introskp.w,loop()}draw(){clear(),fill(255),noStroke(),textAlign(LEFT,TOP),textFont(DINcon,15),textLeading(17),text("FICHA TÉCNICA EDITORIAL\n\nCoordenação geral e Realização:\nPICADA (@picada.livros)\n\nPesquisa no Arquivo Histórico Wanda Svevo:\nGustavo Caboco Wapichana\nTipuici Manoki\n\nTextos e depoimentos transcritos:\nGustavo Caboco Wapichana\nTipuici Manoki\n\nOrganização editorial, projeto gráfico e desenhos:\nGustavo Caboco Wapichana\n\nFotografias e artes licenciadas:\nArquivo Histórico Wanda Svevo\nRicardo Werá\nTipuici Manóki\nGustavo Caboco Wapichana\n\nRevisão crítica:\nPaula Berbert",VIEWPORT.x+.14*VIEWPORT.w,.1*VIEWPORT.h,.25*VIEWPORT.w),text("FICHA TÉCNICA OBRA-DIGITAL\n\nArtista e Direção:\nGustavo Caboco Wapichana\n\nPesquisa no Arquivo Histórico Wanda Svevo:\nGustavo Caboco Wapichana\nTipuici Manóki\n\nDesenho de som:\nIan Wapichana\n\nProgramação Criativa:\nJoão Antonio de F. P. e Ferreira\nhttps://introscopia.github.io/",VIEWPORT.x+.44*VIEWPORT.w,.1*VIEWPORT.h,.25*VIEWPORT.w),stroke(255),strokeWeight(1),line(this.introskp.x,this.introskp.b,this.introskp.r,this.introskp.b),noStroke(),text("AGRADECIMENTOS:\n\nAislan Pankararu\nColetivo Ijã Mytyli de Cinema Manoki e Myky\nFamília Wapichana\nAritana Yawalapiti\nNaine Terena\nDenilson Baniwa\nPaulo Miyada\nDora Côrrea\nThiago Gil de Oliveira Virava\nSimone de Lira\nAna Luiza de Oliveira Mattos\nAmanda Pereira Siqueira\nMelânie Vargas de Araujo\nArquivo Histórico Wanda Svevo\nFundação Bienal de São Paulo\nComissão YVYRUPA",VIEWPORT.x+.74*VIEWPORT.w,.1*VIEWPORT.h,.2*VIEWPORT.w)}mouseMoved(){}mousePressed(){}mouseDragged(){}mouseReleased(){mouseButton===LEFT&&coordinates_in_rct(mouseX,mouseY,this.introskp)&&window.open("http://introscopia.github.io/")}end(){}}function load_skt(){switch(imageMode(CORNER),frameRate(60),noLoop(),SKT.end(),delete SKT,INDEX){case 0:SKT=new S00_SAGUAO;break;case 1:build_S01();break;case 2:build_S02();break;case 3:build_S03();break;case 4:build_S04();break;case 5:build_S05();break;case 6:build_S06();break;case 7:build_S07();break;case 8:build_S08();break;case 9:build_S09();break;case 10:build_S10();break;case 11:SKT=new S11_CREDITOS;break}}var cashmeoutsy=!1;function preload(){DINcon=loadFont("DIN Condensed Bold.ttf"),DINalt=loadFont("DIN Alternate Bold.ttf")}function setup(){let o=document.getElementById("sketch-holder").clientWidth,e=document.getElementById("sketch-holder").clientHeight;createCanvas(o,e).parent("sketch-holder"),cx=o/2,dootsd=14,VIEWPORT={x:20,y:0,w:width-40,h:height-1.2*dootsd,r:width-20,b:height-20},trimid=VIEWPORT.y+.5*VIEWPORT.h,tritop=trimid-30,tribot=trimid+30,dootsy=height-.6*dootsd,dootss=1.4*dootsd,dootsx=VIEWPORT.x+.5*VIEWPORT.w-6*dootss,titulos=Array(12),titulos[0]="Início",titulos[1]="Pés de algodão",titulos[2]="Seres eletro-parixara no algodoeiro",titulos[3]="Arquivo algodão",titulos[4]="Algodão canta ausências",titulos[5]="Kinharyd-rezado",titulos[6]="Das ausências, mas sempre estivemos aqui",titulos[7]="Tecer o fio-forte",titulos[8]="Antes de eu morrê, já sabe",titulos[9]="Anamnese no Arquivo Histórico da Bienal de S. Paulo",titulos[10]="O que é arquivo?",titulos[11]="Ficha técnica",SKT={draw:PH_draw,mouseMoved:PH_mouseMoved,mousePressed:PH_mousePressed,mouseDragged:PH_mouseDragged,mouseReleased:PH_mouseReleased,end:PH_end},INDEX=0,load_skt()}function draw(){SKT.draw(),INDEX>0&&(fill(255),mouseX<VIEWPORT.x?(stroke(255),strokeWeight(3)):noStroke(),triangle(VIEWPORT.x,tritop,VIEWPORT.x,tribot,2,trimid)),INDEX<11&&(fill(255),mouseX>VIEWPORT.r?(stroke(255),strokeWeight(3)):noStroke(),triangle(VIEWPORT.r,tritop,VIEWPORT.r,tribot,width-2,trimid)),push(),stroke(255),strokeWeight(2);for(var o=0;o<=11;o++)noFill(),mouseY>VIEWPORT.h&&mouseX>dootsx+(o-.5)*dootss&&mouseX<dootsx+(o+.5)*dootss&&(push(),textFont(DINcon,20),fill(255),noStroke(),textAlign(LEFT,BOTTOM),text(titulos[o],dootsx,VIEWPORT.h),pop(),fill(180)),INDEX==o&&fill(255),ellipse(dootsx+o*dootss,dootsy,dootsd);pop()}function mouseMoved(){SKT.mouseMoved()}function mousePressed(){coordinates_in_rct(mouseX,mouseY,VIEWPORT)?SKT.mousePressed():cashmeoutsy=!0}function mouseDragged(){SKT.mouseDragged()}function mouseReleased(){if(coordinates_in_rct(mouseX,mouseY,VIEWPORT))SKT.mouseReleased();else if(cashmeoutsy)if(mouseY>VIEWPORT.h){let o=INDEX;(INDEX=round((mouseX-dootsx)/dootss))!=o&&INDEX>=0&&INDEX<=11&&load_skt()}else mouseX<VIEWPORT.x?INDEX-=1:INDEX+=1,INDEX=constrain(INDEX,0,11),load_skt();cashmeoutsy=!1}function keyReleased(){keyCode===LEFT_ARROW?(INDEX=constrain(INDEX-1,0,11),load_skt()):keyCode===RIGHT_ARROW?(INDEX=constrain(INDEX+1,0,11),load_skt()):36===keyCode?(INDEX=0,load_skt()):35===keyCode&&(INDEX=11,load_skt())}